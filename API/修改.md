

# 更新说明#

- 完善了文章板块的API

## 修改##

- 在文章表中添加是否被置顶字段，即is_top字段

## 关键功能实现说明##

- **文章置顶功能：**

  ​	置顶的文章只显示在最近更新里面，即每次一打开文章板块就显示的动态内容，而在文章板块的各个类别中不显示置顶的文章。

  ​	每次在添加置顶文章的时候应先判断置顶文章表中的数量是否已经有三条了，如果有则将最早的置顶数据删除之后再将新的数据进行添加，注意删除操作同时还要在文章表中将**is_top字段进行更新**，添加完成之后返回的数据可以用获取文章列表的方法获取最新的文章列表数据，参数中type_id，page，count全部是默认值。

- **获取文章列表功能：**

  ​	在获取文章列表的时候，要先去文章置顶表中查找信息。

  ​	每一次在获取文章列表的时候，先判断type_id是否为空，如果为空则代表请求的数据是最近更新的内容，然后再判断page是否为1或为空，如果是则表示需要置顶的文章信息，则将置顶表中数据检索返回。

  ​	如果type_id不为空则直接在置顶表中检索相关类型的文章数据，注意要按时间进行排序，之后在按照page信息进行分页处理，所谓的分页处理就是根据page的信息和count的信息进行处理。

  ​	例如count默认为5，page为1时，则直接将排好序的前五条记录返回，如果page为3时，则要先跳过前十条记录，从第11条记录开始返回。

  ​	同时在文章表中查找信息时，**需要先判断字段is_top,如果该字段为true，则不将该条记录返回，也就是跳过该记录**，直到检索到前端需要的记录条数，将从文章表中的数据与置顶表中的数据一起返回。

  ​
